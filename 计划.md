# 需求分析
* 登陆注册
* 用户
  * 查看、发布、点赞、收藏、评论文章
  * 删除评论、文章
* 文章必须要有类别，可以没标签，类别和标签只能由管理员创建
* 类别和文章是一对多，类别和标签是一对多，标签属于类别
  * 一个文章只能有一个类别，但可以有多个标签
  * 一个类别可以有多个文章
  * 一个类别可以有多个标签
* 管理员
  * 添加、禁用用户
  * 删除、修改、审核文章，文章审核后方可展示
  * 创建、删除、修改标签
  * 创建、删除、修改分类
  * PV、UV可视化统计

* 签到等级功能 BitMap
* ES搜索 增量同步
* 留言私信功能
* 关注推送
* Feed流大数据推送
* 文章定时发布
* AI生成文章摘要summary

# 系统设计
## 表设计[最初，不是最新的]
### user表：
* 用户ID userId int 
* 头像 avatarUrl   varchar(255)
* 性别  sex  int    (0女 1男  2未知)
* 简介  profiles   varchar(1024)
* 用户名  userName varchar(255)
* 密码 password  varchar(255)
* 邮箱 mail varchar(100)
* 角色  role  int （0普通用户，1管理员）
* 发布createTime
* 修改时间updateTime
* 用户状态 status （0禁用 1正常）
* 逻辑删除isDelete

### passage表：
* 主键passageId  int
* 作者id authorId  int
* 标题title varchar(255)
* 内容 content text
* 预览图  thumbnail
* 内容摘要 summary  varchar(512)
* 浏览量  viewCount  int
* 点赞数量thumbs  int
* 收藏数量collects int
* 发布createTime
* 修改时间updateTime 
* 状态  status  （0 草稿  ，1 待审核  ，2 已发布）
* 逻辑删除isDelete        

### passage_tag表：多对多，可以根据标签查多个文章
* passageId  主键
* tags  varchar(255)  comment '多个标签组成的json字符串'

### tag表：
* 主键 tagId 
* 创建标签的用户Id   createUserId
* tagName  标签名 
* 逻辑删除isDelete
* 发布时间createTime
* 修改时间updateTime 

### comment表：
* 主键  commentId
* 评论的文章id  passageId
* 评论的内容 content
* 评论的用户id   commentUserId
* 向哪个评论id回复  toCommentId
* 向哪个用户的评论回复  toCommentUserId   redis消息推送，通知用户（可扩展）
* 逻辑删除  isDelete  (0未删除   1已删除)


# 功能设计
不管是后端返回给前端的数据还是全局异常处理器返回给前端的异常统一都是BaseResponse类型，这是返回基类
异常处理  ErrorCode  自定义异常BusinessException ->全局异常处理器GlobalExceptionHandler(全局异常处理器要返回给前端，返回BaseResponse类型)
返回前端  ResultUtils包 最终给前端返回的也是BaseResponse类型